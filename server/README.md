## 库表设计

### 用户表 user

> 设置 scope，以便于提供测试用户。显示操作项，但提交不会做真实操作

| 字段名   | 类型         | 含义     | 约束 | 备注                   |
| -------- | ------------ | -------- | ---- | ---------------------- |
| id       | int          | 用户编号 | 主键 |                        |
| name     | varchar(50)  | 昵称     |      |                        |
| password | varchar(100) | 密码     |      | 加盐哈希               |
| scope    | int          | 角色类型 |      | 1：管理员；0：普通用户 |

### 文章表 article

| 字段名    | 类型         | 含义              | 约束 | 备注                                                         |
| --------- | ------------ | ----------------- | ---- | ------------------------------------------------------------ |
| id        | int          | 文章编号          | 主键 |                                                              |
| title     | varchar(100) | 标题              |      |                                                              |
| text      | text         | 内容，Markdown    |      |                                                              |
| html      | text         | 内容，html 字符串 |      |                                                              |
| tag       | varchar(100) | 文章标签id        |      | 以\|分隔                                                     |
| type      | varchar(100) | 文章归类id        |      | 以\|分隔                                                     |
| path      | varchar(100) | 文件地址          |      |                                                              |
| secretKey | varchar(100) | 加密口令          |      |                                                              |
| status    | int          | 状态              |      | 0：草稿；-1/1：私密；-2/2：加密；-3/3：公开<br>（负：未发布，正：已发布） |

### 标签表 tag

| 字段名 | 类型        | 含义     | 约束 | 备注 |
| ------ | ----------- | -------- | ---- | ---- |
| id     | int         | 标签编号 | 主键 |      |
| name   | varchar(50) | 标签名称 |      |      |

### 归类表 type

| 字段名 | 类型        | 含义       | 约束 | 备注           |
| ------ | ----------- | ---------- | ---- | -------------- |
| id     | int         | 类型编号   | 主键 | 同文件夹的归属 |
| pid    | int         | 父类型编号 |      |                |
| level  | int         | 层级       |      |                |
| name   | varchar(50) | 类型名称   |      |                |

## 错误码

### Token

| error_code | 含义       |
| ---------- | ---------- |
| 1001       | 非法，过期 |
| 1002       | 权限不足   |



